<nav class="navbar navbar-expand-lg navbar-dark bg-primary shadow mb-4">
  <div class="container-fluid">
    <button class="navbar-brand btn btn-link text-white p-0 fw-bold" (click)="goToDashboard()">
      <i class="bi bi-arrow-left-circle me-2"></i> Dashboard
    </button>
    <span class="navbar-text text-white fw-bold ms-2">Gestión de Categorías</span>
  </div>
</nav>
<div class="container py-5">
  <div class="card shadow border-0 mb-4">
    <div class="card-body py-3 px-4">
      <form class="row g-2 align-items-end" (ngSubmit)="onSubmit()" #categoryForm="ngForm">
        <div class="col-md-4">
          <label for="name" class="form-label fw-semibold mb-1"
            >Name <span class="text-danger">*</span></label
          >
          <input
            type="text"
            id="name"
            name="name"
            class="form-control"
            placeholder="Name categori"
            required
            [(ngModel)]="name"
          />
        </div>
        <div class="col-md-5">
          <label for="description" class="form-label fw-semibold mb-1">Description</label>
          <input
            type="text"
            id="description"
            name="description"
            class="form-control"
            placeholder="Description"
            [(ngModel)]="description"
          />
        </div>
        <div class="col-md-3 d-grid">
          <button type="submit" class="btn btn-info fw-bold">
            <i class="bi bi-plus-circle me-2"></i>Guardar Categoría
          </button>
        </div>
        <div *ngIf="success" class="alert alert-success mt-3 mb-0">
          ¡Categoría guardada exitosamente!
        </div>
        <div *ngIf="error" class="alert alert-danger mt-3 mb-0">{{ error }}</div>
      </form>
    </div>
  </div>

  <div class="card shadow border-0">
    <div class="card-body">
      <h4 class="fw-bold text-info mb-3">Lista de Categorías</h4>
      <div class="table-responsive">
        <table class="table table-hover align-middle">
          <thead class="table-light">
            <tr>
              <th>ID</th>
              <th>Nombre</th>
              <th>Descripción</th>
              <th>Fecha de creación</th>
              <th class="text-center">Acciones</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let c of categories">
              <td>{{ c.id }}</td>
              <td>{{ c.name }}</td>
              <td>{{ c.description }}</td>
              <td>{{ c.createdAt | date: 'short' }}</td>
              <td class="text-center">
                <button class="btn btn-sm btn-outline-primary me-2" (click)="onEditCategory(c)">
                  <i class="bi bi-pencil"></i>
                </button>
                <button class="btn btn-sm btn-outline-danger" (click)="onDeleteCategory(c)">
                  <i class="bi bi-trash"></i>
                </button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      <div *ngIf="categories.length === 0" class="alert alert-info">
        No hay categorías registradas.
      </div>
    </div>
  </div>
</div>
